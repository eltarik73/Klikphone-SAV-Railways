import{j as o}from"./index-Bf3IOOTL.js";import{r as E}from"./vendor-react-DWtYaMjq.js";const x=3,d=[];for(let r=0;r<x;r++)for(let c=0;c<x;c++)d.push({id:r*x+c+1,row:r,col:c});function D({value:r,onChange:c,readOnly:l=!1,size:f=160}){const[i,u]=E.useState(r?r.split("-").map(Number).filter(Boolean):[]),a=24,h=(f-a*2)/(x-1),m=t=>({cx:a+t.col*h,cy:a+t.row*h}),j=t=>{if(l||i.includes(t))return;const e=[...i,t];u(e),c==null||c(e.join("-"))},k=()=>{u([]),c==null||c("")},p=[];for(let t=1;t<i.length;t++){const e=d.find(s=>s.id===i[t-1]),n=d.find(s=>s.id===i[t]);if(e&&n){const s=m(e),y=m(n);p.push({x1:s.cx,y1:s.cy,x2:y.cx,y2:y.cy,key:`${t}`})}}return o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsxs("svg",{width:f,height:f,className:"select-none",children:[p.map(t=>o.jsx("line",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stroke:"#7C3AED",strokeWidth:"3",strokeLinecap:"round"},t.key)),d.map(t=>{const e=m(t),n=i.indexOf(t.id),s=n!==-1;return o.jsxs("g",{onClick:()=>j(t.id),className:l?"":"cursor-pointer",children:[o.jsx("circle",{cx:e.cx,cy:e.cy,r:s?14:10,fill:s?"#7C3AED":"#E2E8F0",stroke:s?"#6D28D9":"#CBD5E1",strokeWidth:"2"}),s&&o.jsx("text",{x:e.cx,y:e.cy+1,textAnchor:"middle",dominantBaseline:"central",fill:"white",fontSize:"11",fontWeight:"bold",children:n+1}),!s&&!l&&o.jsx("text",{x:e.cx,y:e.cy+1,textAnchor:"middle",dominantBaseline:"central",fill:"#94A3B8",fontSize:"10",children:t.id})]},t.id)})]}),i.length>0&&o.jsx("p",{className:"text-xs text-slate-500 font-mono",children:i.join(" â†’ ")}),!l&&i.length>0&&o.jsx("button",{type:"button",onClick:k,className:"text-xs text-red-500 hover:text-red-700 font-medium",children:"Effacer"})]})}export{D as P};
