import{u as $e,j as e,c as m,i as B}from"./index-V3IOAg6T.js";import{u as Te,d as qe,r as l}from"./vendor-react-DWtYaMjq.js";import{Z as _e,aU as Ee,aV as Fe,W as ee,c as h,S as se,r as D,X as te,K as Re,P as ae,a8 as Oe,F as Le,aW as Me,T as Pe,aX as Ae,J as Ve,a as Ie,E as Be,ag as De,q as ze}from"./vendor-icons-CUXb3u1C.js";const z=d=>d==null?"0,00":Number(d).toFixed(2).replace(".",","),j={Apple:"#18181b",Samsung:"#2563eb",Xiaomi:"#ea580c",Huawei:"#dc2626",Honor:"#6d28d9",Google:"#16a34a",Oppo:"#059669",OnePlus:"#dc2626",Motorola:"#0891b2",Nothing:"#18181b"},Ke={Écran:"#3B82F6",Ecran:"#3B82F6",Batterie:"#F59E0B",Connecteur:"#6366F1","Connecteur de charge":"#6366F1",Caméra:"#EC4899",Camera:"#EC4899","Caméra arrière":"#EC4899","Caméra avant":"#EC4899",Vitre:"#14B8A6","Vitre arrière":"#14B8A6","Face ID":"#EF4444",Désoxydation:"#0EA5E9"},He={Original:"#10B981","Soft OLED":"#3B82F6",Incell:"#8B5CF6","Hard OLED":"#6366F1"};function Qe(d){for(const[v,_]of Object.entries(Ke))if(d!=null&&d.toLowerCase().includes(v.toLowerCase()))return _;return"#64748b"}function Xe(){const{user:d}=$e(),v=Te(),[_]=qe(),K=(d==null?void 0:d.target)==="tech"?"/tech":"/accueil",[p,H]=l.useState("reparations"),[a,le]=l.useState(_.get("mode")==="kiosk"),[w,E]=l.useState(""),[F,R]=l.useState([]),[O,Q]=l.useState(!1),[n,L]=l.useState(null),[G,y]=l.useState(new Set),[M,k]=l.useState(!1),P=l.useRef(null),A=l.useRef(null),V=l.useRef(null),[J,ne]=l.useState([]),[re,W]=l.useState(!1),[C,ie]=l.useState(""),[S,ce]=l.useState(""),[$,oe]=l.useState(""),[de,xe]=l.useState([]),[g,me]=l.useState(null),[ue,f]=l.useState(!1),[T,I]=l.useState(null),[i,o]=l.useState(Z()),[X,U]=l.useState(!1);function Z(){return{marque:"",modele:"",capacite:"",couleur:"",etat:"Occasion",prix_achat:0,prix_vente:0,imei:"",notes:""}}const he=async s=>{if(!s||s.length<1){R([]),k(!1);return}Q(!0);try{const t=await m.devisFlashSearch(s);R(t||[]),k(!0)}catch{R([])}Q(!1)};l.useEffect(()=>(clearTimeout(P.current),P.current=setTimeout(()=>he(w),200),()=>clearTimeout(P.current)),[w]),l.useEffect(()=>{const s=t=>{V.current&&!V.current.contains(t.target)&&A.current&&!A.current.contains(t.target)&&k(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const pe=s=>{L(s),y(new Set),k(!1),E(s.modele)},be=s=>{y(t=>{const r=new Set(t);return r.has(s)?r.delete(s):r.add(s),r})},x=n?n.reparations.filter((s,t)=>G.has(t)):[],Y=x.reduce((s,t)=>s+(t.prix_vente||0),0),je=()=>{if(!x.length)return;const s=x.map(t=>({description:t.qualite?`${t.composant} (${t.qualite})`:t.composant,quantite:1,prix_unitaire:t.prix_vente}));sessionStorage.setItem("kp_devis_prefill",JSON.stringify({appareil:`${n.marque} ${n.modele}`,lignes:s})),v(`${K}/devis?create=1`)},ge=()=>{if(!x.length)return;const s=x.map(t=>t.qualite?`${t.composant} (${t.qualite})`:t.composant).join(", ");sessionStorage.setItem("kp_ticket_prefill",JSON.stringify({marque:n.marque,modele:n.modele,panne:s,devis_estime:Y})),v(`${K}`)},fe=()=>{L(null),y(new Set),E("")},q=async()=>{W(!0);try{const s={};C&&(s.search=C),S&&(s.marque=S),$&&(s.etat=$);const[t,r,N]=await Promise.all([m.getTelephonesVente(s),m.getTelephonesVenteStats(),m.getTelephonesVenteMarques()]);ne(t||[]),me(r),xe(N||[])}catch{}W(!1)};l.useEffect(()=>{p==="telephones"&&q()},[p,C,S,$]);const Ne=async()=>{if(!(!i.marque||!i.modele)){U(!0);try{T?await m.updateTelephoneVente(T,i):await m.createTelephoneVente(i),B("telephones"),f(!1),I(null),q()}catch{}U(!1)}},ve=async s=>{if(confirm("Supprimer ce téléphone ?"))try{await m.deleteTelephoneVente(s),B("telephones"),q()}catch{}},we=async(s,t)=>{try{await m.updateTelephoneVente(s,{en_stock:!t}),B("telephones"),q()}catch{}},ye=s=>{I(s.id),o({marque:s.marque||"",modele:s.modele||"",capacite:s.capacite||"",couleur:s.couleur||"",etat:s.etat||"Occasion",prix_achat:Number(s.prix_achat)||0,prix_vente:Number(s.prix_vente)||0,imei:s.imei||"",notes:s.notes||""}),f(!0)},ke=()=>{var s,t,r;a?(r=document.exitFullscreen)==null||r.call(document):(t=(s=document.documentElement).requestFullscreen)==null||t.call(s),le(!a)},Ce=a?"bg-[#0F172A] text-white":"",u=a?"text-white":"text-slate-900",c=a?"text-slate-400":"text-slate-500",b=a?"bg-slate-800/80 border-slate-700":"bg-white border-slate-200",Se=a?"text-[115%]":"";return e.jsxs("div",{className:`${a?"fixed inset-0 z-[100] overflow-auto":""} ${Ce} ${Se} p-4 sm:p-6 lg:p-8 max-w-7xl`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:`text-2xl font-display font-bold ${u} tracking-tight flex items-center gap-2`,children:[e.jsx(_e,{className:"w-6 h-6 text-amber-500"})," Devis Flash"]}),e.jsx("p",{className:`text-sm ${c} mt-0.5`,children:"Consultation rapide des prix de réparation"})]}),e.jsxs("button",{onClick:ke,className:`${a?"bg-slate-700 text-slate-300 hover:bg-slate-600":"btn-secondary"} text-xs px-3 py-2 rounded-lg flex items-center gap-1.5`,children:[a?e.jsx(Ee,{className:"w-4 h-4"}):e.jsx(Fe,{className:"w-4 h-4"}),a?"Quitter kiosque":"Mode kiosque"]})]}),e.jsxs("div",{className:"flex gap-1 mb-6",children:[e.jsxs("button",{onClick:()=>H("reparations"),className:`flex items-center gap-1.5 px-4 py-2.5 rounded-lg text-sm font-medium transition-all
            ${p==="reparations"?"bg-amber-500 text-white shadow-sm":`${a?"text-slate-400 hover:bg-slate-800":"text-slate-500 hover:bg-slate-100"}`}`,children:[e.jsx(ee,{className:"w-4 h-4"})," Réparations"]}),e.jsxs("button",{onClick:()=>H("telephones"),className:`flex items-center gap-1.5 px-4 py-2.5 rounded-lg text-sm font-medium transition-all
            ${p==="telephones"?"bg-amber-500 text-white shadow-sm":`${a?"text-slate-400 hover:bg-slate-800":"text-slate-500 hover:bg-slate-100"}`}`,children:[e.jsx(h,{className:"w-4 h-4"})," Téléphones en vente"]})]}),p==="reparations"&&e.jsxs("div",{children:[e.jsxs("div",{className:"relative mb-6",ref:A,children:[e.jsx(se,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${a?"text-slate-500":"text-slate-400"}`}),e.jsx("input",{value:w,onChange:s=>{E(s.target.value),L(null),y(new Set)},placeholder:"Rechercher un modèle (ex: iPhone 15 Pro, Galaxy S24...)",className:`w-full h-14 pl-12 pr-12 rounded-2xl border-2 text-lg outline-none transition-all
                ${a?"bg-slate-800 border-slate-600 text-white placeholder:text-slate-500 focus:border-amber-500 focus:ring-4 focus:ring-amber-500/20":"border-slate-200 focus:border-amber-400 focus:ring-4 focus:ring-amber-100"}`,autoFocus:!0}),O&&e.jsx(D,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 animate-spin text-amber-500"}),n&&!O&&e.jsx("button",{onClick:fe,className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 rounded-full hover:bg-slate-200",children:e.jsx(te,{className:"w-4 h-4 text-slate-400"})}),M&&!n&&F.length>0&&e.jsx("div",{ref:V,className:`absolute top-full left-0 right-0 mt-2 rounded-xl shadow-2xl border z-50 max-h-80 overflow-y-auto
                  ${a?"bg-slate-800 border-slate-600":"bg-white border-slate-200"}`,children:F.map((s,t)=>{const r=Math.min(...s.reparations.map(N=>N.prix_vente));return e.jsxs("button",{onClick:()=>pe(s),className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors
                        ${a?"hover:bg-slate-700":"hover:bg-slate-50"}
                        ${t>0?a?"border-t border-slate-700":"border-t border-slate-100":""}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",style:{background:(j[s.marque]||"#6d28d9")+"15"},children:e.jsx(h,{className:"w-5 h-5",style:{color:j[s.marque]||"#6d28d9"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:`font-semibold text-sm ${u}`,children:[s.marque," ",s.modele]}),e.jsxs("p",{className:`text-xs ${c}`,children:[s.reparations.length," réparation",s.reparations.length>1?"s":""," disponible",s.reparations.length>1?"s":""]})]}),e.jsxs("span",{className:"text-sm font-bold text-amber-500",children:["dès ",r,"€"]}),e.jsx(Re,{className:`w-4 h-4 ${c}`})]},t)})})]}),!n&&!M&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(ee,{className:`w-16 h-16 mx-auto mb-4 ${a?"text-slate-700":"text-slate-200"}`}),e.jsx("p",{className:`text-lg ${c}`,children:"Tapez un modèle pour voir les prix de réparation"}),e.jsx("p",{className:`text-sm mt-1 ${a?"text-slate-600":"text-slate-300"}`,children:"Recherchez par modèle (iPhone 15 Pro) ou marque (Samsung)"})]}),!n&&M&&F.length===0&&!O&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(ae,{className:`w-12 h-12 mx-auto mb-3 ${a?"text-slate-600":"text-slate-300"}`}),e.jsxs("p",{className:c,children:['Aucun résultat pour "',w,'"']})]}),n&&e.jsxs("div",{className:`rounded-2xl border-2 overflow-hidden ${b}`,children:[e.jsxs("div",{className:`px-6 py-4 flex items-center gap-4 ${a?"bg-slate-700/50":"bg-slate-50"}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:(j[n.marque]||"#6d28d9")+"20"},children:e.jsx(h,{className:"w-6 h-6",style:{color:j[n.marque]||"#6d28d9"}})}),e.jsxs("div",{children:[e.jsxs("h2",{className:`text-xl font-display font-bold ${u}`,children:[n.marque," ",n.modele]}),e.jsxs("p",{className:`text-sm ${c}`,children:[n.marque," — ",n.reparations.length," réparation",n.reparations.length>1?"s":""," disponible",n.reparations.length>1?"s":""]})]})]}),e.jsx("div",{className:"divide-y divide-slate-100",children:n.reparations.map((s,t)=>{const r=G.has(t),N=Qe(s.composant);return e.jsxs("button",{onClick:()=>be(t),className:`w-full flex items-center gap-4 px-6 py-4 text-left transition-all
                        ${r?a?"bg-amber-500/10":"bg-amber-50/80":a?"hover:bg-slate-700/50":"hover:bg-slate-50"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center shrink-0 transition-all
                        ${r?"bg-amber-500 border-amber-500":a?"border-slate-600":"border-slate-300"}`,children:r&&e.jsx(Oe,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"w-1 h-8 rounded-full shrink-0",style:{background:N}}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:`font-medium ${u}`,children:s.composant}),s.qualite&&e.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full font-semibold text-white",style:{background:He[s.qualite]||"#64748b"},children:s.qualite}),!s.en_stock&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-red-100 text-red-600 font-medium",children:"Sur commande"})]})}),e.jsxs("span",{className:`text-lg font-bold shrink-0 ${r?"text-amber-500":a?"text-slate-300":"text-slate-900"}`,children:[s.prix_vente,"€"]})]},t)})}),x.length>0&&e.jsxs("div",{className:`px-6 py-5 ${a?"bg-slate-700/50 border-t border-slate-600":"bg-slate-50 border-t border-slate-200"}`,children:[e.jsxs("div",{className:"mb-4 space-y-1.5",children:[e.jsxs("p",{className:`text-xs font-semibold uppercase tracking-wider mb-2 ${c}`,children:["Sélectionné (",x.length,")"]}),x.map((s,t)=>e.jsxs("div",{className:`flex items-center justify-between text-sm ${u}`,children:[e.jsx("span",{children:s.qualite?`${s.composant} (${s.qualite})`:s.composant}),e.jsxs("span",{className:"font-medium",children:[s.prix_vente,"€"]})]},t))]}),e.jsxs("div",{className:`flex items-center justify-between py-3 px-4 rounded-xl mb-4 ${a?"bg-amber-500/20":"bg-amber-50 border border-amber-200"}`,children:[e.jsx("span",{className:`text-lg font-bold ${a?"text-amber-400":"text-amber-900"}`,children:"TOTAL TTC"}),e.jsxs("span",{className:"text-2xl font-black text-amber-500",children:[Y,"€"]})]}),!a&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:je,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-brand-600 text-white font-semibold hover:bg-brand-700 transition-colors",children:[e.jsx(Le,{className:"w-5 h-5"})," Créer un devis"]}),e.jsxs("button",{onClick:ge,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-slate-800 text-white font-semibold hover:bg-slate-900 transition-colors",children:[e.jsx(Me,{className:"w-5 h-5"})," Créer un ticket"]})]})]})]}),a&&e.jsx("div",{className:"text-center mt-12 text-slate-600 text-sm",children:"KLIKPHONE SAV — Chambéry"})]}),p==="telephones"&&e.jsxs("div",{children:[g&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-6",children:[e.jsxs("div",{className:`rounded-xl border p-3 ${b}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(h,{className:`w-4 h-4 ${c}`}),e.jsx("span",{className:`text-xs ${c}`,children:"Total"})]}),e.jsx("p",{className:`text-xl font-bold ${u}`,children:g.total||0})]}),e.jsxs("div",{className:`rounded-xl border p-3 ${b}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(ae,{className:"w-4 h-4 text-emerald-500"}),e.jsx("span",{className:`text-xs ${c}`,children:"En stock"})]}),e.jsx("p",{className:"text-xl font-bold text-emerald-600",children:g.en_stock||0})]}),e.jsxs("div",{className:`rounded-xl border p-3 ${b}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Pe,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:`text-xs ${c}`,children:"Marques"})]}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:g.nb_marques||0})]}),e.jsxs("div",{className:`rounded-xl border p-3 ${b}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ae,{className:"w-4 h-4 text-brand-500"}),e.jsx("span",{className:`text-xs ${c}`,children:"Valeur stock"})]}),e.jsxs("p",{className:"text-xl font-bold text-brand-600",children:[z(g.valeur_stock)," €"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{value:C,onChange:s=>ie(s.target.value),placeholder:"Rechercher un téléphone...",className:"input pl-9"})]}),e.jsxs("select",{value:S,onChange:s=>ce(s.target.value),className:"input w-auto min-w-[120px]",children:[e.jsx("option",{value:"",children:"Toutes marques"}),de.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:$,onChange:s=>oe(s.target.value),className:"input w-auto min-w-[120px]",children:[e.jsx("option",{value:"",children:"Tous états"}),e.jsx("option",{value:"Neuf",children:"Neuf"}),e.jsx("option",{value:"Occasion",children:"Occasion"}),e.jsx("option",{value:"Reconditionné",children:"Reconditionné"})]}),!a&&e.jsxs("button",{onClick:()=>{I(null),o(Z()),f(!0)},className:"btn-primary shrink-0",children:[e.jsx(Ve,{className:"w-4 h-4"})," Ajouter"]})]}),re?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(D,{className:"w-6 h-6 animate-spin text-amber-500"})}):J.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(h,{className:`w-12 h-12 mx-auto mb-3 ${a?"text-slate-600":"text-slate-300"}`}),e.jsx("p",{className:c,children:"Aucun téléphone en vente"})]}):e.jsx("div",{className:"grid gap-2",children:J.map(s=>e.jsx("div",{className:`rounded-xl border p-4 transition-shadow hover:shadow-md ${b}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",style:{background:(j[s.marque]||"#6d28d9")+"15"},children:e.jsx(h,{className:"w-5 h-5",style:{color:j[s.marque]||"#6d28d9"}})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("p",{className:`font-semibold text-sm ${u}`,children:[s.marque," ",s.modele]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[s.capacite&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-100 text-slate-500",children:s.capacite}),s.couleur&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-100 text-slate-500",children:s.couleur}),e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${s.etat==="Neuf"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:s.etat})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-brand-600",children:[z(s.prix_vente)," €"]}),Number(s.prix_achat)>0&&!a&&e.jsxs("p",{className:"text-[10px] text-slate-400",children:["Achat: ",z(s.prix_achat)," €"]})]}),!a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>we(s.id,s.en_stock),className:`p-1.5 rounded-lg ${s.en_stock?"text-emerald-500 hover:bg-emerald-50":"text-red-400 hover:bg-red-50"}`,title:s.en_stock?"En stock":"Vendu",children:s.en_stock?e.jsx(Ie,{className:"w-4 h-4"}):e.jsx(Be,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ye(s),className:"p-1.5 rounded-lg hover:bg-slate-100 text-slate-400 hover:text-slate-600",children:e.jsx(De,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ve(s.id),className:"p-1.5 rounded-lg hover:bg-red-50 text-slate-400 hover:text-red-500",children:e.jsx(ze,{className:"w-4 h-4"})})]})]})]})},s.id))}),ue&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[e.jsx("h2",{className:"text-lg font-display font-bold text-slate-900",children:T?"Modifier":"Ajouter un téléphone"}),e.jsx("button",{onClick:()=>f(!1),className:"p-2 rounded-lg hover:bg-slate-100",children:e.jsx(te,{className:"w-5 h-5 text-slate-400"})})]}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Marque *"}),e.jsx("input",{value:i.marque,onChange:s=>o(t=>({...t,marque:s.target.value})),className:"input",placeholder:"Apple"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Modèle *"}),e.jsx("input",{value:i.modele,onChange:s=>o(t=>({...t,modele:s.target.value})),className:"input",placeholder:"iPhone 15 Pro"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Capacité"}),e.jsx("input",{value:i.capacite,onChange:s=>o(t=>({...t,capacite:s.target.value})),className:"input",placeholder:"256 Go"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Couleur"}),e.jsx("input",{value:i.couleur,onChange:s=>o(t=>({...t,couleur:s.target.value})),className:"input",placeholder:"Noir"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"État"}),e.jsxs("select",{value:i.etat,onChange:s=>o(t=>({...t,etat:s.target.value})),className:"input",children:[e.jsx("option",{children:"Neuf"}),e.jsx("option",{children:"Occasion"}),e.jsx("option",{children:"Reconditionné"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"IMEI"}),e.jsx("input",{value:i.imei,onChange:s=>o(t=>({...t,imei:s.target.value})),className:"input",placeholder:"IMEI"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Prix achat (€)"}),e.jsx("input",{type:"number",value:i.prix_achat,onChange:s=>o(t=>({...t,prix_achat:parseFloat(s.target.value)||0})),className:"input",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Prix vente (€)"}),e.jsx("input",{type:"number",value:i.prix_vente,onChange:s=>o(t=>({...t,prix_vente:parseFloat(s.target.value)||0})),className:"input",step:"0.01"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Notes"}),e.jsx("textarea",{value:i.notes,onChange:s=>o(t=>({...t,notes:s.target.value})),className:"input min-h-[60px]",placeholder:"Notes..."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 border-t border-slate-100",children:[e.jsx("button",{onClick:()=>f(!1),className:"btn-secondary",children:"Annuler"}),e.jsxs("button",{onClick:Ne,disabled:X||!i.marque||!i.modele,className:"btn-primary",children:[X?e.jsx(D,{className:"w-4 h-4 animate-spin"}):e.jsx(h,{className:"w-4 h-4"}),T?"Enregistrer":"Ajouter"]})]})]})}),a&&e.jsx("div",{className:"text-center mt-12 text-slate-600 text-sm",children:"KLIKPHONE SAV — Chambéry"})]})]})}export{Xe as default};
